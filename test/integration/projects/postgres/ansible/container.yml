version: "2"
defaults:
  POSTGRES_USER: django
  POSTGRES_PASSWORD: sesame
  POSTGRES_DB: django
services:
  postgresql:
    image: postgres:9.4
    expose:
      - "5432"
    volumes:
      - /var/lib/postgresql/data
      - logs:/var/logs/postgres
    environment:
      POSTGRES_USER: "{{ POSTGRES_USER }}"
      POSTGRES_PASSWORD: "{{ POSTGRES_PASSWORD }}"
      POSTGRES_DB: "{{ POSTGRES_DB }}"
  nginx:
    image: centos:7
    ports:
      - "8000:8000"
    user: nginx
    depends_on:
      - postgresql 
    command: ['nginx', '-c', '/etc/nginx/nginx.conf']

volumes:
  logs: {}

registries: {}

